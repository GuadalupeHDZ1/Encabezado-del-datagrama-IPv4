<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encabezado del datagrama IPv4</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Encabezado del datagrama IPv4</h1>
        <h1>Universida A칰tonoma del Estado de M칠xico</h1>
        <h1>Centro Univeristario UAEM Zumpango</h1>
        <h1>Ingenier칤a en Computaci칩n</h1>
        <h1>Arquitectura de Redes</h1>
        <h1>Profesor: Carlos Alberto Rojas Hern치ndez</h1>
        <h1>Presenta: Hern치ndez Almaguer Maria Guadalupe</h1>


        <P>.<P>
        
        <form id="ipForm">
            <!-- Campos del Encabezado IP -->
            <div class="form-section">
                <h2>Encabezado IPv4</h2>
                
                <div class="field-group">
                    <label>VERSI칍N (4 bits):</label>
                    <div class="input-group">
                        <input type="text" id="version_dec" value="4" placeholder="Decimal" maxlength="1" data-bits="4" data-type="dec" readonly>
                        <input type="text" id="version_bin" value="0100" placeholder="Binario" maxlength="4" data-bits="4" data-type="bin" readonly>
                        <input type="text" id="version_hex" value="4" placeholder="Hexadecimal" maxlength="1" data-bits="4" data-type="hex" readonly>
                    </div>
                    <div class="info-text">IPv4 - Campo fijo</div>
                </div>

                <div class="field-group">
                    <label>LONGITUD ENCABEZADO (4 bits):</label>
                    <div class="input-group">
                        <select id="ihl_select">
                            <option value="">Seleccionar longitud...</option>
                            <option value="5">5 (20 bytes)</option>
                            <option value="6">6 (24 bytes)</option>
                            <option value="7">7 (28 bytes)</option>
                            <option value="8">8 (32 bytes)</option>
                            <option value="9">9 (36 bytes)</option>
                            <option value="10">10 (40 bytes)</option>
                            <option value="11">11 (44 bytes)</option>
                            <option value="12">12 (48 bytes)</option>
                            <option value="13">13 (52 bytes)</option>
                            <option value="14">14 (56 bytes)</option>
                            <option value="15">15 (60 bytes)</option>
                        </select>
                    </div>
                </div>

                <div class="field-group">
                    <label>TIPO DE SERVICIO (8 bits):</label>
                    <div class="input-group">
                        <input type="text" id="tos_dec" placeholder="Decimal" maxlength="3" data-bits="8" data-type="dec">
                        <input type="text" id="tos_bin" placeholder="Binario" maxlength="8" data-bits="8" data-type="bin">
                        <input type="text" id="tos_hex" placeholder="Hexadecimal" maxlength="2" data-bits="8" data-type="hex">
                        <select id="tos_preset">
                            <option value="">Seleccionar TOS...</option>
                            <option value="0">Normal (0x00)</option>
                            <option value="1">Minimize Cost (0x01)</option>
                            <option value="2">Maximize Reliability (0x02)</option>
                            <option value="4">Maximize Throughput (0x04)</option>
                            <option value="8">Minimize Delay (0x08)</option>
                            <option value="15">Maximize Security (0x0F)</option>
                        </select>
                    </div>
                </div>

                <div class="field-group">
                    <label>LONGITUD TOTAL DEL DATAGRAMA:</label>
                    <div class="input-group">
                        <input type="text" id="total_length_dec" placeholder="Calculado" maxlength="5" data-bits="16" data-type="dec" readonly>
                        <input type="text" id="total_length_bin" placeholder="Calculado" maxlength="16" data-bits="16" data-type="bin" readonly>
                        <input type="text" id="total_length_hex" placeholder="Calculado" maxlength="4" data-bits="16" data-type="hex" readonly>
                    </div>
                    <div class="info-text" id="total_length_preview">Calculado autom치ticamente: 0 bytes (Encabezado: 0 bytes )</div>
                </div>

                <div class="field-group">
                    <label>IDENTIFICACI칍N (16 bits):</label>
                    <div class="input-group">
                        <input type="text" id="identification_dec" placeholder="Decimal" maxlength="5" data-bits="16" data-type="dec">
                        <input type="text" id="identification_bin" placeholder="Binario" maxlength="16" data-bits="16" data-type="bin">
                        <input type="text" id="identification_hex" placeholder="Hexadecimal" maxlength="4" data-bits="16" data-type="hex">
                        <button type="button" onclick="generateRandom('identification')">Aleatorio</button>
                    </div>
                </div>

                <div class="field-group">
                    <label>FLAGS (3 bits):</label>
                    <div class="input-group">
                        <input type="text" id="flags_dec" placeholder="Decimal" maxlength="1" data-bits="3" data-type="dec">
                        <input type="text" id="flags_bin" placeholder="Binario" maxlength="3" data-bits="3" data-type="bin">
                        <input type="text" id="flags_hex" placeholder="Hexadecimal" maxlength="1" data-bits="3" data-type="hex">
                        <button type="button" onclick="generateRandom('flags')">Aleatorio</button>
                    </div>
                </div>

                <div class="field-group">
                    <label>DESPLAZAMIENTO (13 bits):</label>
                    <div class="input-group">
                        <input type="text" id="fragment_dec" placeholder="Decimal" maxlength="4" data-bits="13" data-type="dec">
                        <input type="text" id="fragment_bin" placeholder="Binario" maxlength="13" data-bits="13" data-type="bin">
                        <input type="text" id="fragment_hex" placeholder="Hexadecimal" maxlength="3" data-bits="13" data-type="hex">
                        <button type="button" onclick="generateRandom('fragment')">Aleatorio</button>
                    </div>
                </div>

                <div class="field-group">
                    <label>TTL (8 bits):</label>
                    <div class="input-group">
                        <input type="text" id="ttl_dec" placeholder="Decimal" maxlength="3" data-bits="8" data-type="dec">
                        <input type="text" id="ttl_bin" placeholder="Binario" maxlength="8" data-bits="8" data-type="bin">
                        <input type="text" id="ttl_hex" placeholder="Hexadecimal" maxlength="2" data-bits="8" data-type="hex">
                        <button type="button" onclick="generateRandom('ttl')">Aleatorio</button>
                    </div>
                </div>

                <div class="field-group">
                    <label>PROTOCOLO (8 bits):</label>
                    <div class="input-group">
                        <input type="text" id="protocol_dec" placeholder="Decimal" maxlength="3" data-bits="8" data-type="dec">
                        <input type="text" id="protocol_bin" placeholder="Binario" maxlength="8" data-bits="8" data-type="bin">
                        <input type="text" id="protocol_hex" placeholder="Hexadecimal" maxlength="2" data-bits="8" data-type="hex">
                        <select id="protocol_preset">
                            <option value="">Seleccionar Protocolo...</option>
                            <option value="1">ICMP (1)</option>
                            <option value="6">TCP (6)</option>
                            <option value="17">UDP (17)</option>
                            <option value="89">OSPF (89)</option>
                        </select>
                    </div>
                </div>

                <div class="field-group">
                    <label>CHECKSUM (16 bits):</label>
                    <div class="input-group">
                        <input type="text" id="checksum_dec" placeholder="Decimal" maxlength="5" data-bits="16" data-type="dec">
                        <input type="text" id="checksum_bin" placeholder="Binario" maxlength="16" data-bits="16" data-type="bin">
                        <input type="text" id="checksum_hex" placeholder="Hexadecimal" maxlength="4" data-bits="16" data-type="hex">
                        <button type="button" onclick="generateRandom('checksum')">Aleatorio</button>
                    </div>
                    <div class="info-text">Campo ingresado por el usuario</div>
                </div>

                <div class="field-group">
                    <label>IP FUENTE (32 bits):</label>
                    <div class="input-group">
                        <input type="text" id="src_ip" placeholder="Ej: 192.168.1.1" data-type="ip">
                    </div>
                </div>

                <div class="field-group">
                    <label>IP DESTINO (32 bits):</label>
                    <div class="input-group">
                        <input type="text" id="dst_ip" placeholder="Ej: 192.168.1.2" data-type="ip">
                    </div>
                </div>
            </div>

            <!-- Opciones y Datos -->
            <div class="form-section">
                <h2>Opciones y Datos</h2>
                
                <div class="field-group">
                    <label>OPCIONES (Hexadecimal):</label>
                    <textarea id="options_hex" placeholder="Ej: 010203040506..." data-type="hex"></textarea>
                    <div class="info-text">Espacio para opciones: <span id="options_space_info">0 bytes</span> | Usados: <span id="options_used_info">0 bytes</span></div>
                    <div class="info-text" id="options_warning" style="color: #e74c3c; display: none;">丘멆잺 Las opciones exceden el espacio disponible</div>
                </div>

                <div class="field-group">
                    <label>DATOS (Texto):</label>
                    <textarea id="data_text" placeholder="Introduce el mensaje aqu칤..."></textarea>
                    <div class="info-text">Longitud: <span id="data_length_info">0 caracteres (0 bytes)</span></div>
                </div>
            </div>

            <div class="form-actions">
                <button type="button" onclick="calculateDatagram()">Calcular Datagrama</button>
                <button type="button" onclick="resetForm()">Limpiar Formulario</button>
            </div>
        </form>

        <!-- Resultados -->
        <div id="results" class="results-section" style="display: none;">
            <h2>Datagrama IP Resultante</h2>
            
            <div class="result-group">
                <h3>Encabezado en Hexadecimal (<span id="header_bytes">0</span> bytes):</h3>
                <div id="header_hex" class="hex-output"></div>
            </div>

            <div class="result-group">
                <h3>Datos en Hexadecimal (<span id="data_bytes">0</span> bytes):</h3>
                <div id="data_hex" class="hex-output"></div>
            </div>

            <div class="result-group">
                <h3>Datagrama Completo (<span id="total_bytes">0</span> bytes):</h3>
                <div id="complete_datagram" class="hex-output"></div>
            </div>

            <div class="result-group">
                <h3>Desglose:</h3>
                <div class="breakdown">
                    <p><strong>Encabezado b치sico (sin opciones):</strong> <span id="basic_header_bytes">20</span> bytes</p>
        <p><strong>Opciones:</strong> <span id="options_bytes">0</span> bytes</p>
        <p><strong>Datos:</strong> <span id="breakdown_data_bytes">0</span> bytes</p>
        <p><strong>Total:</strong> <span id="breakdown_total_bytes">0</span> bytes</p>
    </div>

    <!-- 游릭 AQU칈 EST츼 EL NUEVO DESGLOSE COMPLETO -->
    <pre id="breakdown_text" 
         style="white-space: pre-wrap; 
                font-family: monospace; 
                margin-top: 10px; 
                padding: 10px; 
                background: #dad6d6; 
                border: 1px solid #f5f3f3; 
                border-radius: 5px;">
    </pre>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
